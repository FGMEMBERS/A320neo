<?xml version="1.0" encoding="UTF-8" ?>

<!-- Airbus A320neo Fly-By-Wire -->

<PropertyList>
<!--
fcs/aileron-cmd-norm
fcs/elevator-cmd-norm

max PITCH -1G +2.5g
max BANK 15ยบ/sec upto 33ยบ. 67ยบ if full deflect maintained
-->
<pid-controller>
		<name>pitch down</name>
		<debug type="bool">true</debug>
		<enable>
			<condition>
			<and>
				<or>
				<greater-than-equals>
					<property>/fdm/jsbsim/fcs/elevator-cmd-norm</property>
					<value type="bool">0.01</value>
				</greater-than-equals>
				<less-than-equals>
					<property>/fdm/jsbsim/fcs/elevator-cmd-norm</property>
					<value type="bool">0.01</value>
				</less-than-equals>
				</or>
				<equals>
					<property>/autopilot/settings/engaged</property>
					<value type="bool">false</value>
				</equals>
			</and>
			</condition>
		</enable>
		<input>
			<expression>
				<sum> <!-- 1G is neutral, so make neutral to value 0 --> 
					<property>/accelerations/pilot-gdamped</property>
					<value>-1</value>
				</sum>
			</expression>
		</input>
		<reference>
			<property>/controls/flight/elevator</property>
			<scale>-2</scale>
		</reference>
		<output>
			<!--property>/controls/flight/elevator</property-->
			<property>/autopilot/internal/target-pitch-deg</property>
			<!--property>fdm/jsbsim/fcs/elevator-fbw-norm</property-->
		</output>

		<config>
			<Kp>2</Kp>
			<!--beta>1</beta>
			<alpha>0.1</alpha>
			<gamma>0</gamma-->
			<Ti>1</Ti>
			<Td>0.0001</Td>
			<u_min>-17</u_min>
			<u_max>17</u_max>
			
		</config>
	</pid-controller>



</PropertyList>
