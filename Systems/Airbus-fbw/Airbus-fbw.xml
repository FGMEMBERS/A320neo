<?xml version="1.0" encoding="UTF-8" ?>

<!-- Airbus Fly-by-Wire -->

<PropertyList>

	<!-- Basic Pitch and Roll Rate Controls -->

	<pid-controller>
		<name>FBW Pitch G-force Control</name>
		<debug type="bool">false</debug>
		<enable>
			<property>/systems/fbw/elevator/PID-load-factor</property>
		</enable>
		<input>
			<!--property>/accelerations/pilot-gdamped</property-->
			<!-- prop>/orientation/pitch-rate-degps</prop -->
			<expression>

					<div>
						<property>/accelerations/pilot/z-accel-fps_sec</property>
						<value type="double">-32.00</value>
					</div>
			</expression>  
		</input>
		<reference>
			<property>/systems/fbw/elevator/target-pitch-gforce</property>
		</reference>
		<output>
			<property>/fdm/jsbsim/fcs/elevator-fbw-output</property>
		</output>
		<!--config>
			<Kp>-1</Kp>
			<beta>1</beta>
			<alpha>0.1</alpha>
			<gamma>0</gamma>
			<Ti>10</Ti>
			<Td>0.00001</Td>
			<u_min>-1</u_min>
			<u_max>1</u_max>
		</config-->
		<config>
			<Kp>-0.500</Kp>
			<Ti>1</Ti>
			<Td>0.001</Td>
			<Ts>0.050</Ts>
			<beta>0.75</beta>
			<alpha>0.1</alpha>
			<gamma>0.75</gamma>
			<u_min>-1</u_min>
			<u_max>1</u_max>
		</config>
	</pid-controller>
	
	<pid-controller>
		<name>FBW Pitch Rate Degps Control</name>
		<debug type="bool">false</debug>
		<enable>
			<property>/systems/fbw/elevator/PID-pitch-rate</property>
		</enable>
		<input>
			<property>/orientation/pitch-rate-degps</property>
		</input>
		<reference>
			<property>/systems/fbw/elevator/target-pitch-rate</property>
		</reference>
		<output>
			<property>/fdm/jsbsim/fcs/elevator-fbw-output</property>
		</output>
		<!--config>
			<Kp>-0.5</Kp>
			<beta>1</beta>
			<alpha>0.1</alpha>
			<gamma>0</gamma>
			<Ti>10</Ti>
			<Td>0.00001</Td>
			<u_min>-1</u_min>
			<u_max>1</u_max>
		</config-->
		<config>
			<Kp>-0.5001000</Kp>
			<Ti>1</Ti> 
			<Td>0.001</Td>
			<Ts>0.050</Ts>
			<beta>00.500</beta>
			<alpha>0.1</alpha>
			<gamma>0.1</gamma>
			<u_min>-1.0</u_min>
			<u_max>1.0</u_max>
		</config>
	</pid-controller>
	
	<pid-controller>
		<name>FBW Roll Rate Control</name>
		<debug type="bool">false</debug>
		<enable>
			<property>/systems/fbw/ailerons/PID-roll-rate</property>
		</enable>
		<input>
			<property>/orientation/roll-rate-degps</property>
		</input>
		<reference>
			<property>/systems/fbw/ailerons/target-roll-rate</property>
		</reference>
		<output>
			<property>/fdm/jsbsim/fcs/aileron-fbw-output</property>
		</output>
		<!--config>
			<Kp>0.05</Kp>
			<beta>1</beta>
			<alpha>0.1</alpha>
			<gamma>0</gamma>
			<Ti>10</Ti>
			<Td>0.000000001</Td>
			<u_min>-1</u_min>
			<u_max>1</u_max>
		</config-->
		<config>
			<Kp>0.25</Kp>
			<Ti>1</Ti>
			<Td>0.001</Td>
      			<Ts>0.05</Ts>
  			<beta>0.01</beta>
			<alpha>0.1</alpha>
			<gamma>0.25</gamma>
			<u_min>-1</u_min>
			<u_max>1</u_max>
		</config>
	</pid-controller>
	
	<!-- Pitch and Bank Limiters -->
	
	<pid-controller>
		<name>FBW Pitch Hold</name>
		<debug type="bool">false</debug>
		<enable>
			<property>/systems/fbw/elevator/PID-pitch-hold</property>
		</enable>
		<input>
			<property>/orientation/pitch-deg</property>
		</input>
		<reference>
			<property>/systems/fbw/elevator/target-pitch-deg</property>
		</reference>
		<output>
			<property>/fdm/jsbsim/fcs/elevator-fbw-output</property>
		</output>
		<!--config>
			<Kp>-1</Kp>
			<beta>1</beta>
			<alpha>0.1</alpha>
			<gamma>0</gamma>
			<Ti>10</Ti>
			<Td>0.00001</Td>
			<u_min>-1</u_min>
			<u_max>1</u_max>
		</config-->
		<config>
			<Kp>-000.100</Kp>
			<alpha>0.1</alpha>
			<beta>00.0010</beta>
			<gamma>0.01250</gamma>
			<Ti>2.51500</Ti>
			<Td>0.500</Td>
			<Ts>0.05</Ts>
			<u_min>-1</u_min>
			<u_max>1</u_max>
		</config>
	</pid-controller>
	
	<pid-controller>
		<name>FBW Bank Hold</name>
		<debug type="bool">false</debug>
		<enable>
			<property>/systems/fbw/ailerons/PID-bank-hold</property>
		</enable>
		<input>
			<property>/orientation/roll-deg</property>
		</input>
		<reference>
			<property>/systems/fbw/ailerons/target-bank-deg</property>
		</reference>
		<output>
			<property>/fdm/jsbsim/fcs/aileron-fbw-output</property>
		</output>
		<!--config>
			<Kp>0.05</Kp>
			<beta>1</beta>
			<alpha>0.1</alpha>
			<gamma>0</gamma>
			<Ti>10</Ti>
			<Td>0.000000001</Td>
			<u_min>-1</u_min>
			<u_max>1</u_max>
		</config-->
		<config>
			<Kp>0000.2500</Kp>
			<alpha>0.100</alpha>
			<beta>00.100</beta>
			<gamma>0.01250</gamma>
			<Ti>01.500</Ti>
			<Td>00.250</Td>
			<Ts>00.05</Ts>
			<u_min>-1</u_min>
			<u_max>1</u_max>
		</config>
	</pid-controller>
	
	<!-- Auto-stabilizer -->
	
	<!--pid-controller>
		<name>FBW Stabilize Bank</name>
		<debug type="bool">false</debug>
		<enable>
			<property>/systems/fbw/stable/aileron</property>
		</enable>
		<input>
			<property>/orientation/roll-deg</property>
		</input>
		<reference>
			<property>/systems/fbw/stable/bank-deg</property>
		</reference>
		<output>
			<property>/controls/flight/aileron-trim</property>
		</output>
		<config>
			<Kp>0.05</Kp>
			<beta>1</beta>
			<alpha>0.1</alpha>
			<gamma>0</gamma>
			<Ti>10</Ti>
			<Td>0.000000001</Td>
			<u_min>-1</u_min>
			<u_max>1</u_max>
		</config>
	</pid-controller>
	
	<pid-controller>
		<name>FBW Stabilize Pitch</name>
		<debug type="bool">false</debug>
		<enable>
			<property>/systems/fbw/stable/elevator</property>
		</enable>
		<input>
			<property>/orientation/pitch-deg</property>
		</input>
		<reference>
			<property>/systems/fbw/stable/pitch-deg</property>
		</reference>
		<output>
			<property>/controls/flight/elevator-trim</property>
		</output>
		<config>
			<Kp>-0.15</Kp>
			<beta>1</beta>
			<alpha>0.1</alpha>
			<gamma>0</gamma>
			<Ti>10</Ti>
			<Td>0.0000001</Td>
			<u_min>-1</u_min>
			<u_max>1</u_max>
		</config>
	</pid-controller-->


  <!-- PITCH AUTO TRIM -->
	<pid-controller>
		<name>Vertical Stab Trim</name>
		<debug type="bool">false</debug>
		<input>
			<value>0</value>
		</input>
		<reference>
			<property>/fdm/jsbsim/fcs/elevator-fbw-norm</property>
		</reference>
		<output>
			<!--prop>/fdm/jsbsim/fcs/elevator-trim-unrated</prop-->
			<property>/controls/flight/elevator-trim</property>
		</output>
		<config>
			<Kp>1.000</Kp>
			<Ti>30</Ti>
			<Td>0.00001</Td>
			<Ts>0.050</Ts>
			<beta>0.0005</beta>
			<alpha>0.1</alpha>
			<gamma>0.0005</gamma>
			<u_min>-1</u_min>
			<u_max>1</u_max>
		</config>
	</pid-controller>

</PropertyList>
